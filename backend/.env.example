# =============================================================================
# OpenCodeIntel Backend Environment Variables
# =============================================================================

# -----------------------------------------------------------------------------
# AI & Search APIs
# -----------------------------------------------------------------------------

# OpenAI - for embeddings and AI features
OPENAI_API_KEY=your_openai_api_key_here

# Pinecone - vector database for semantic search
PINECONE_API_KEY=your_pinecone_api_key_here
PINECONE_INDEX_NAME=codeintel

# Cohere - reranking for search quality (optional but recommended)
COHERE_API_KEY=your_cohere_api_key_here

# Voyage AI - code-specific embeddings (recommended for code search)
# Get API key from https://dash.voyageai.com/
VOYAGE_API_KEY=your_voyage_api_key_here

# -----------------------------------------------------------------------------
# Supabase - Authentication & Database
# -----------------------------------------------------------------------------

SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key_here
SUPABASE_JWT_SECRET=your_jwt_secret_here

# Service role key - required for server-side database access (e.g., storing GitHub tokens)
# Get from Supabase Dashboard → Settings → API → service_role key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# -----------------------------------------------------------------------------
# GitHub OAuth - One-Click Repo Import Feature
# -----------------------------------------------------------------------------
# IMPORTANT: This is SEPARATE from Supabase GitHub login!
# 
# Supabase login uses its own OAuth app (configured in Supabase Dashboard).
# This OAuth app is ONLY for importing repositories from GitHub.
#
# Setup:
# 1. Go to GitHub → Settings → Developer settings → OAuth Apps → New OAuth App
# 2. Create app with name like "YourApp Repo Import"
# 3. Set callback URL based on environment:
#    - Development: http://localhost:3000/github/callback
#    - Production:  https://yourdomain.com/github/callback
# 4. Copy Client ID and generate Client Secret
#
# You may need separate OAuth apps for dev and production (different callback URLs)

GITHUB_CLIENT_ID=your_github_oauth_app_client_id
GITHUB_CLIENT_SECRET=your_github_oauth_app_client_secret

# Must match EXACTLY what you set in GitHub OAuth App settings
GITHUB_REDIRECT_URI=http://localhost:3000/github/callback

# Frontend URL for redirects after OAuth
FRONTEND_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# Backend Configuration
# -----------------------------------------------------------------------------

BACKEND_API_URL=http://localhost:8000
API_KEY=dev-secret-key

# CORS - allowed frontend origins (comma-separated for multiple)
ALLOWED_ORIGINS=http://localhost:3000

# -----------------------------------------------------------------------------
# Redis Cache (Optional)
# -----------------------------------------------------------------------------

REDIS_HOST=localhost
REDIS_PORT=6379

# -----------------------------------------------------------------------------
# Monitoring & Debugging
# -----------------------------------------------------------------------------

# Sentry error tracking (optional)
# Get DSN from https://sentry.io → Settings → Projects → Client Keys
SENTRY_DSN=

# Environment identifier
ENVIRONMENT=development
