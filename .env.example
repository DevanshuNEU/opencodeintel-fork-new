# CodeIntel Environment Variables
# Copy this to .env and fill in your actual values

# OpenAI API (Required)
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-...

# Embedding Model (Optional)
# Options: text-embedding-3-small (default, faster/cheaper), text-embedding-3-large (better quality)
EMBEDDING_MODEL=text-embedding-3-small

# Pinecone API (Required)
# Get from: https://app.pinecone.io/
PINECONE_API_KEY=pcsk_...
PINECONE_INDEX_NAME=codeintel

# Supabase (Required)
# Get from: https://app.supabase.com/project/_/settings/api
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=eyJ...
SUPABASE_JWT_SECRET=your-jwt-secret
SUPABASE_SERVICE_ROLE_KEY=eyJ...

# Development API Key (Optional -- dev/test only, ignored in production)
# Used to bypass JWT auth when DEBUG=true. Never set in production.
DEV_API_KEY=
DEBUG=false
LOG_LEVEL=INFO

# Backend API URL (used by MCP server and frontend)
BACKEND_API_URL=http://backend:8000
FRONTEND_URL=http://localhost:3000

# GitHub OAuth (Required for GitHub repo import)
# Create OAuth App: https://github.com/settings/developers
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_REDIRECT_URI=http://localhost:3000/auth/github/callback

# CORS Configuration (Security)
# Comma-separated list of allowed origins
ALLOWED_ORIGINS=http://localhost:3000
# Regex for dynamic CORS origins (Vercel preview deploys)
# Scoped to our project name so only our previews can call the backend
# ALLOW_ORIGIN_REGEX=https://opencodeintel.*\.vercel\.app

# Redis (auto-configured in Docker, set REDIS_URL in Railway)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=

# Sentry Error Tracking (Optional but recommended for production)
# Get DSN from: https://sentry.io -> Settings -> Projects -> Client Keys
SENTRY_DSN=
SENTRY_SEND_PII=false
SENTRY_INCLUDE_LOCAL_VARS=false
ENVIRONMENT=development

# Discord Webhook (Optional -- for feedback notifications)
DISCORD_FEEDBACK_WEBHOOK=

# Cohere API for reranking (Optional -- improves search quality)
# Get from: https://dashboard.cohere.com/api-keys
COHERE_API_KEY=
SEARCH_V2_ENABLED=true

# Voyage AI (Optional -- code-specific embeddings for better search)
# Get from: https://dash.voyageai.com/
VOYAGE_API_KEY=
